# ========================================
# MicroSOC Backend - Production Environment Variables
# ========================================
# Copy this file to .env and fill in your actual values

# ========================================
# SERVER CONFIGURATION
# ========================================
PORT=3000
NODE_ENV=production
FRONTEND_URL=https://your-frontend.onrender.com

# ========================================
# DATABASE CONFIGURATION
# ========================================
# MongoDB Atlas Connection String
# Get from: https://cloud.mongodb.com/
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/microsoc?retryWrites=true&w=majority
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/microsoc?retryWrites=true&w=majority

# ========================================
# REDIS CONFIGURATION
# ========================================
# Upstash Redis URL (with TLS)
# Get from: https://console.upstash.com/
# Format: rediss://default:password@host:port
REDIS_URL=rediss://default:your-password@your-redis-host.upstash.io:6379

# ========================================
# AUTHENTICATION
# ========================================
# JWT Secret (use a strong random string)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# ========================================
# EMAIL / SMTP CONFIGURATION (for OTP)
# ========================================
# Option 1: Gmail with App Password
EMAIL_SERVICE=gmail
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-16-char-app-password

# Option 2: Custom SMTP
# EMAIL_SERVICE=smtp
# SMTP_HOST=smtp.your-provider.com
# SMTP_PORT=587
# SMTP_SECURE=false
# EMAIL_USER=your-email@domain.com
# EMAIL_PASSWORD=your-password

# ========================================
# BULLMQ / QUEUE CONFIGURATION
# ========================================
LOG_QUEUE_NAME=logQueue

# ========================================
# DETECTION RULES CONFIGURATION
# ========================================
DEDUP_TTL=300
BRUTE_WINDOW=60
BRUTE_THRESHOLD=8
PORTSCAN_WINDOW=120
PORTSCAN_THRESHOLD=20

# ========================================
# AI / LLM CONFIGURATION
# ========================================
# Choose: gemini, openai, groq, ollama
LLM_PROVIDER=gemini

# Google Gemini API Key
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# OpenAI API Key (alternative)
# OPENAI_API_KEY=sk-your-openai-key-here

# Groq API Key (alternative - fast, free tier)
# GROQ_API_KEY=your-groq-key-here

# Ollama Endpoint (alternative - local)
# OLLAMA_ENDPOINT=http://localhost:11434/api/generate
